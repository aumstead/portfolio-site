import styles from "./Scissors.module.scss";
import { useEffect, useRef, useState } from 'react'

function Scissors({ setMouseEnteredScissors }) {
  const [animateHint, setAnimateHint] = useState(false)
  const [timerFunc, setTimerFunc] = useState(false)
  const [cancelAnimation, setCancelAnimation] = useState(false)

  const scissors = useRef(null)

  let firstTimeout;
  let secondTimeout;

  useEffect(() => {
    if (!cancelAnimation) {
      firstTimeout = setTimeout(() => {
        setAnimateHint(true)
      }, 4000)
    }

    return () => clearTimeout(firstTimeout)
  }, [timerFunc])

  useEffect(() => {
    if (animateHint && !cancelAnimation) {
      scissors.current.classList.add(`${styles.vibrate}`)
      secondTimeout = setTimeout(() => {
        scissors.current.classList.remove(`${styles.vibrate}`)
        setTimerFunc(prevState => !prevState)
        setAnimateHint(false)
      }, 12000)
    }
    return () => clearTimeout(secondTimeout)
  }, [animateHint])

  function handleMouseEnter() {
    // this state triggers useEffect func which restarts gsap timeline
    setMouseEnteredScissors((prevState) => !prevState);
    clearTimeout(firstTimeout)
    clearTimeout(secondTimeout)
    setCancelAnimation(true)
  }
  return (
    <svg
      ref={scissors}
      onMouseEnter={handleMouseEnter}
      className={styles.scissors}
      xmlns="http://www.w3.org/2000/svg"
      width="455"
      height="237"
      fill="none"
      viewBox="0 0 455 237"
    >
      <path
        fill="#FFCED2"
        d="M402.1 161.1H120v-19.9l104-66.3h178c26.5 0 48.1 19.3 48.1 43.1 0 11.9-5.4 22.7-14.1 30.5-8.6 7.8-20.7 12.6-33.9 12.6z"
      ></path>
      <path
        fill="#FFCED2"
        d="M143 126.5l-23 14.6v20h51.8L143 126.5zM260.7 74.8H224l-73.3 46.7 62 39.5H402c13.3 0 25.3-4.8 34-12.6 6-5.4 10.5-12.3 12.6-19.9L260.7 74.8z"
        opacity="0.2"
      ></path>
      <path
        fill="#FFCED2"
        d="M436 137.1c-8.7 7.8-20.7 12.6-34 12.6H120V161h282.1c13.3 0 25.3-4.8 34-12.6s14.1-18.6 14.1-30.5c0-1.9-.2-3.8-.4-5.7-1.5 9.7-6.5 18.4-13.8 24.9z"
        opacity="0.2"
      ></path>
      <path
        fill="#FFCED2"
        d="M402.1 74.8h-15.2c26.5 0 48.1 19.3 48.1 43.1 0 11.9-5.4 22.7-14.1 30.5-8.7 7.8-20.7 12.6-34 12.6h15.2c13.3 0 25.3-4.8 34-12.6s14.1-18.6 14.1-30.5c-.1-23.8-21.6-43.1-48.1-43.1z"
        opacity="0.2"
      ></path>
      <path
        stroke="#030037"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="8"
        d="M402.1 161.1H120v-19.9l104-66.3h178c26.5 0 48.1 19.3 48.1 43.1 0 11.9-5.4 22.7-14.1 30.5-8.6 7.8-20.7 12.6-33.9 12.6z"
      ></path>
      <path
        fill="#FFCED2"
        d="M402.1 161.1H227.6L120 92.5V74.9h111.6L445.7 136c-2.4 4.7-5.7 8.9-9.7 12.5-8.6 7.8-20.7 12.6-33.9 12.6z"
      ></path>
      <path
        fill="#FFCED2"
        d="M402.1 161.1H227.6L120 92.5V74.9h111.6L445.7 136c-2.4 4.7-5.7 8.9-9.7 12.5-8.6 7.8-20.7 12.6-33.9 12.6z"
      ></path>
      <path
        fill="#FFCED2"
        d="M172.6 74.8H120v17.7l23.9 15.2 28.7-32.9z"
        opacity="0.2"
      ></path>
      <path
        fill="#FFCED2"
        d="M432.7 132.3c-1.4 1.7-3 3.4-4.7 4.9-8.7 7.8-20.7 12.6-34 12.6H219.6L120 86.3v6.2l107.6 68.6H402c13.3 0 25.3-4.8 34-12.6 4-3.6 7.3-7.8 9.7-12.5l-13-3.7z"
        opacity="0.2"
      ></path>
      <path
        stroke="#030037"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="8"
        d="M402.1 161.1H227.6L120 92.5V74.9h111.6L445.7 136c-2.4 4.7-5.7 8.9-9.7 12.5-8.6 7.8-20.7 12.6-33.9 12.6zM47.6 4.9c-1.3.2-2.6.5-3.8.8 1.2-.3 2.5-.6 3.8-.8zM36.4 8.2c1.2-.5 2.4-1 3.6-1.4-1.2.5-2.4.9-3.6 1.4zM6.7 40.1c4.9-14.4 15.7-26 29.6-31.9-13.8 5.9-24.7 17.5-29.6 31.9zM6.7 74.1c.6 1.6 1.2 3.3 1.9 4.8-.7-1.5-1.3-3.1-1.9-4.8zM36.4 106c-12.3-5.2-22.2-14.9-27.7-27.1 5.5 12.2 15.4 21.9 27.7 27.1zM47.6 231c-1.3-.2-2.6-.5-3.8-.8 1.2.3 2.5.6 3.8.8zM36.4 227.7c1.2.5 2.4 1 3.6 1.4-1.2-.5-2.4-.9-3.6-1.4zM6.7 195.8c4.9 14.4 15.7 26 29.6 31.9-13.8-5.9-24.7-17.5-29.6-31.9zM6.7 161.8c.6-1.6 1.2-3.3 1.9-4.8-.7 1.5-1.3 3.1-1.9 4.8zM36.4 129.9c-12.3 5.2-22.2 14.9-27.7 27.1 5.5-12.2 15.4-21.9 27.7-27.1z"
      ></path>
      <path
        fill="#FF524E"
        d="M237.1 128.2c5.689 0 10.3-4.611 10.3-10.3 0-5.688-4.611-10.3-10.3-10.3-5.688 0-10.3 4.612-10.3 10.3 0 5.689 4.612 10.3 10.3 10.3z"
      ></path>
      <path
        stroke="#030037"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="8"
        d="M237.1 128.2c5.689 0 10.3-4.611 10.3-10.3 0-5.688-4.611-10.3-10.3-10.3-5.688 0-10.3 4.612-10.3 10.3 0 5.689 4.612 10.3 10.3 10.3z"
      ></path>
      <path
        fill="#FF1D1D"
        d="M128 125.7H57.1c-6.4 0-12.6 1.1-18.2 3.2-.8.3-1.6.6-2.4 1-12.3 5.2-22.2 14.9-27.7 27.1-.7 1.6-1.3 3.2-1.9 4.8-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.6-.8 3.9-.5 3.1-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.9.3 1.3.2.8.5 1.7.8 2.5 4.9 14.4 15.8 26 29.6 31.9 1.2.5 2.4 1 3.6 1.4.8.3 1.7.5 2.5.8.4.1.9.2 1.3.3 1.3.3 2.5.6 3.8.8 3.1.5 6.2.8 9.4.8 16.8 0 31.8-7.9 41.6-20.1 7.4-9.4 18.3-15.3 30.2-17.1l33.8-5 10.4-12.1-45.1-52zm-71 78.9c-14.2 0-25.8-11.5-25.8-25.8S42.7 153 57 153c14.2 0 25.8 11.5 25.8 25.8S71.3 204.6 57 204.6z"
      ></path>
      <g fill="#FF1D1D" opacity="0.22">
        <path
          d="M31.2 178.8c0-11.6 7.7-21.5 18.3-24.7-2.4-.7-4.9-1.1-7.5-1.1-14.2 0-25.8 11.5-25.8 25.8s11.5 25.8 25.8 25.8c2.6 0 5.2-.4 7.5-1.1-10.6-3.3-18.3-13.1-18.3-24.7zM128 125.7h-15.1l44.9 51.8-10.4 12.1-33.8 5c-11.8 1.8-22.7 7.7-30.2 17.1-8.3 10.4-20.3 17.6-34.1 19.6 2.5.4 5 .5 7.6.5 16.8 0 31.8-7.9 41.6-20.1 7.4-9.4 18.3-15.3 30.2-17.1l33.8-5 10.4-12.1-44.9-51.8z"
          opacity="0.22"
        ></path>
      </g>
      <path
        fill="#FF1D1D"
        d="M91.6 182.8c0-12.1-8.4-22.3-19.6-25 6.6 4.7 10.9 12.4 10.9 21 0 14.2-11.5 25.8-25.8 25.8-2.1 0-4.2-.3-6.2-.8 4.2 3 9.4 4.8 14.9 4.8 14.2 0 25.8-11.6 25.8-25.8z"
      ></path>
      <path
        fill="#FF1D1D"
        d="M15.5 199.8c-.3-.8-.5-1.7-.8-2.5-.1-.4-.2-.8-.3-1.3-.3-1.3-.6-2.5-.8-3.9-.5-3-.8-6.2-.8-9.4s.3-6.3.8-9.4c.2-1.3.5-2.6.8-3.9.1-.4.2-.8.3-1.3.2-.8.5-1.7.8-2.5.6-1.6 1.2-3.3 1.9-4.8 5.5-12.1 15.4-21.8 27.7-27.1.8-.3 1.6-.6 2.4-1 5.7-2.1 11.8-3.2 18.2-3.2h65.7l-3.5-4H57c-6.4 0-12.6 1.1-18.2 3.2-.8.3-1.6.6-2.4 1-12.3 5.2-22.2 14.9-27.7 27.1-.7 1.6-1.3 3.2-1.9 4.8-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.6-.8 3.9-.5 3.1-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.9.3 1.3.2.8.5 1.7.8 2.5 4.9 14.4 15.8 26 29.6 31.9l3 1.2c-11.1-6.5-19.7-16.8-23.9-29.1z"
      ></path>
      <path
        stroke="#030037"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="8"
        d="M128 125.7H57.1c-6.4 0-12.6 1.1-18.2 3.2-.8.3-1.6.6-2.4 1-12.3 5.2-22.2 14.9-27.7 27.1-.7 1.6-1.3 3.2-1.9 4.8-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.6-.8 3.9-.5 3.1-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.9.3 1.3.2.8.5 1.7.8 2.5 4.9 14.4 15.8 26 29.6 31.9 1.2.5 2.4 1 3.6 1.4.8.3 1.7.5 2.5.8.4.1 3.8 1 5.1 1.2 3.1.5 6.2.8 9.4.8 16.8 0 31.8-7.9 41.6-20.1 7.4-9.4 18.3-15.3 30.2-17.1l33.8-5 10.4-12.1-45.1-52.1zm-71 78.9c-14.2 0-25.8-11.5-25.8-25.8S42.7 153 57 153c14.2 0 25.8 11.5 25.8 25.8S71.3 204.6 57 204.6z"
      ></path>
      <path
        fill="#FF1D1D"
        d="M162.5 46.3l-33.8-5c-11.8-1.8-22.7-7.7-30.2-17.1C88.8 12 73.8 4.1 56.9 4.1c-3.2 0-6.3.3-9.4.8-1.3.2-2.6.5-3.8.8-.4.1-.9.2-1.3.3-.8.2-1.7.5-2.5.8-1.2.4-2.4.9-3.6 1.4-13.9 5.9-24.7 17.5-29.6 31.9-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.5-.8 3.9-.5 3-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.8.3 1.3.2.8.5 1.7.8 2.5.6 1.6 1.2 3.3 1.9 4.8 5.5 12.1 15.4 21.8 27.7 27.1.8.3 1.6.6 2.4 1 5.7 2.1 11.8 3.2 18.2 3.2h70.9l44.9-51.8-10.2-12.3zM57 82.9c-14.2 0-25.8-11.5-25.8-25.8 0-14.2 11.5-25.8 25.8-25.8 14.2 0 25.8 11.5 25.8 25.8S71.3 82.9 57 82.9z"
      ></path>
      <g fill="#FF1D1D" opacity="0.22">
        <path
          d="M162.5 46.3l-33.8-5c-11.8-1.8-22.7-7.7-30.2-17.1C88.8 12 73.8 4.1 56.9 4.1 68.4 7 78.4 13.6 85.5 22.6c7.4 9.4 18.3 15.3 30.2 17.1l33.8 5 10.4 12.1-44.9 51.8H44.1c4.2 1 8.5 1.6 13 1.6H128l44.9-51.8-10.4-12.1z"
          opacity="0.22"
        ></path>
        <path
          d="M53.6 31.6c-3-1.2-6.2-1.8-9.6-1.8-14.2 0-25.8 11.5-25.8 25.8 0 14.2 11.5 25.8 25.8 25.8 1.2 0 2.3-.1 3.4-.2-9.5-3.8-16.2-13.1-16.2-23.9 0-13.3 9.8-24.1 22.4-25.7z"
          opacity="0.22"
        ></path>
      </g>
      <path
        fill="#FF1D1D"
        d="M93.6 62.5c0-12.2-8.5-22.4-19.9-25.1 5.6 4.7 9.1 11.8 9.1 19.7 0 14.2-11.5 25.8-25.8 25.8-2 0-4-.2-5.9-.7 4.5 3.8 10.3 6.1 16.7 6.1 14.2 0 25.8-11.5 25.8-25.8zM139.5 46.7l26.8 4-3.7-4.4-33.8-5c-3.2-.5-6.3-1.3-9.3-2.3 5.9 3.9 12.8 6.6 20 7.7z"
      ></path>
      <path
        fill="#FF1D1D"
        d="M19.4 84.4c-.7-1.6-1.3-3.2-1.9-4.8-.3-.8-.5-1.6-.8-2.5-.1-.4-.2-.8-.3-1.3-.3-1.3-.6-2.6-.8-3.9-.5-3.1-.8-6.2-.8-9.4s.3-6.3.8-9.4c.2-1.3.5-2.6.8-3.9.1-.4.2-.9.3-1.3.2-.8.5-1.7.8-2.5 4.9-14.4 15.8-26 29.6-31.9 1.2-.5 2.4-1 3.6-1.4.8-.3 1.7-.5 2.5-.8.4-.1.9-.2 1.3-.3 1.3-.3 2.5-.6 3.8-.8 3.1-.5 6.2-.8 9.4-.8 6.4 0 12.6 1.2 18.3 3.3C77.7 7.2 67.7 4 57 4c-3.2 0-6.3.3-9.4.8-1.3.2-2.6.5-3.8.8-.4.1-.9.2-1.3.3-.8.2-1.7.5-2.5.8-1.2.4-2.4.9-3.6 1.4C22.5 14 11.7 25.6 6.8 40c-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.5-.8 3.9-.5 3-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.8.3 1.3.2.8.5 1.7.8 2.5.6 1.6 1.2 3.3 1.9 4.8 5.5 12.1 15.4 21.8 27.7 27.1l2.4.9c-8.5-5.5-15.2-13.4-19.4-22.6z"
      ></path>
      <path
        stroke="#030037"
        strokeLinecap="round"
        strokeLinejoin="round"
        strokeMiterlimit="10"
        strokeWidth="8"
        d="M162.5 46.3l-33.8-5c-11.8-1.8-22.7-7.7-30.2-17.1C88.8 12 73.8 4.1 56.9 4.1c-3.2 0-6.3.3-9.4.8-1.3.2-2.6.5-3.8.8-.4.1-.9.2-1.3.3-.8.2-1.7.5-2.5.8-1.2.4-2.4.9-3.6 1.4-13.9 5.9-24.7 17.5-29.6 31.9-.3.8-.5 1.6-.8 2.5-.1.4-.2.8-.3 1.3-.3 1.3-.6 2.5-.8 3.9-.5 3-.8 6.2-.8 9.4s.3 6.3.8 9.4c.2 1.3.5 2.6.8 3.9.1.4.2.8.3 1.3.2.8.5 1.7.8 2.5.6 1.6 1.2 3.3 1.9 4.8 5.5 12.1 15.4 21.8 27.7 27.1.8.3 1.6.6 2.4 1 5.7 2.1 11.8 3.2 18.2 3.2h70.9l44.9-51.8-10.2-12.3zM57 82.9c-14.2 0-25.8-11.5-25.8-25.8 0-14.2 11.5-25.8 25.8-25.8 14.2 0 25.8 11.5 25.8 25.8S71.3 82.9 57 82.9z"
      ></path>
    </svg>
  );
}

export default Scissors;
